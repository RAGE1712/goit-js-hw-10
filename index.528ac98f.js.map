{"mappings":"AAKA,MAAMA,EAAO,CACTC,SAAUC,SAASC,cAAc,iBACjCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,IAAKJ,SAASC,cAAc,cA4BhC,SAASI,EAAwBC,GAC/B,OAAOA,EACJC,KACC,EAACC,IAAEA,EAAGC,OAAEA,KAAa,oBACVD,WAAaC,EAAO,GAAGC,uDACZD,EAAO,GAAGC,+CACHD,EAAO,GAAGE,sDACVF,EAAO,GAAGG,qBAExCC,KAAK,G,EAqBV,WACE,MAKMC,EAAS,IAAIC,gBAAgB,CACjCC,QAHA,0EAKF,OAAOC,MAAM,uCAA2BH,KAAUI,MAAKC,IACrD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,qBAElB,OAAOF,EAASG,MAAM,G,EApE1BC,GAAcL,MAAKM,IACf,MAAMC,EAA8BD,EAyEnCjB,KACC,EAACmB,GAAEA,EAAEhB,KAAEA,KAAW,yBACFgB,MAAOhB,eAExBG,KAAK,IA5ENf,EAAKC,SAAS4B,UAAYF,CAAM,IAG9BG,OAAMzB,GAAS0B,QAAQC,IAAI3B,KAIjCL,EAAKC,SAASgC,iBAAiB,UAE/B,SAAuBC,IA0BvB,SAAyBN,GACrB,MAAMO,EAAW,+BACXC,EAAW,gBAGXpB,EAAS,IAAIC,gBAAgB,CAC/BC,QAHY,wEAIZmB,UAAWT,IAGf,OAAOT,MAAM,GAAGgB,KAAYC,KAAYpB,KAAUI,MAAMC,IACnD,IAAKA,EAASC,GACX,MAAM,IAAIC,MAAM,qBAEpB,OAAOF,EAASG,MAAM,G,EAtC1Bc,CADWJ,EAAMK,OAAOC,OAEnBpB,MAAKM,IACF1B,EAAKM,IAAIuB,UAAYtB,EAAwBmB,GAC7CK,QAAQC,IAAIzB,EAAwBmB,GAAM,IAE/CI,OAAMW,GAAOV,QAAQC,IAAIS,I","sources":["src/cat-api.js"],"sourcesContent":["// import axios from 'axios';\n\n// axios.defaults.headers.common['x-api-key'] =\n//     'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n  \nconst refs = {\n    selector: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'), \n    error: document.querySelector('.error'),\n    div: document.querySelector('.cat-info')\n}\n\nfetchBreeds().then(data => {\n    const markup = createSelectorMarkup(data);\n    refs.selector.innerHTML = markup;\n    // console.log(markup)\n}\n    ).catch(error => console.log(error))\n\n\n\nrefs.selector.addEventListener('change', onBreedSelect);\n\nfunction onBreedSelect(event) {\n    const id = event.target.value;\n    fetchCatByBreed(id)\n        .then(data => {\n            refs.div.innerHTML = createDescriptionMarkup(data);\n            console.log(createDescriptionMarkup(data))\n        })\n      .catch(err => console.log(err));\n    \n    \n\n}\n\n\nfunction createDescriptionMarkup(arr) {\n  return arr\n    .map(\n      ({ url, breeds }) => `\n     <img src=\"${url}\" alt=\"${breeds[0].name}\" class=\"cat-image\">\n     <h1 class=\"cat-name\">${breeds[0].name}</h1>\n     <h2 class=\"cat-temperament\">${breeds[0].temperament}</h2>\n     <h3 class=\"cat-description\">${breeds[0].description}</h3>`\n    )\n    .join('');\n}\n\nfunction fetchCatByBreed(id) {\n    const BASE_URL = 'https://api.thecatapi.com/v1';\n    const ENDPOINT = 'images/search';\n    const API_KEY = 'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n     \n    const params = new URLSearchParams({\n        api_key: API_KEY,\n        breed_ids: id\n    });\n\n    return fetch(`${BASE_URL}/${ENDPOINT}?${params}`).then((response) => {\n         if (!response.ok) {\n            throw new Error(\"Breeds not found!\");\n        }\n        return response.json()\n    });\n}\n\nfunction fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const ENDPOINT = 'breeds';\n  const API_KEY =\n    'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  return fetch(`${BASE_URL}/${ENDPOINT}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Breeds not found!');\n    }\n    return response.json();\n  });\n}\n\nfunction createSelectorMarkup(arr) {\n  return arr\n    .map(\n      ({ id, name }) => `\n     <option value=\"${id}\">${name}</option>`\n    )\n    .join('');\n}"],"names":["$6b5f202d1456c0af$var$refs","selector","document","querySelector","loader","error","div","$6b5f202d1456c0af$var$createDescriptionMarkup","arr","map","url","breeds","name","temperament","description","join","params","URLSearchParams","api_key","fetch","then","response","ok","Error","json","$6b5f202d1456c0af$var$fetchBreeds","data","markup","id","innerHTML","catch","console","log","addEventListener","event","BASE_URL","ENDPOINT","breed_ids","$6b5f202d1456c0af$var$fetchCatByBreed","target","value","err"],"version":3,"file":"index.528ac98f.js.map"}