{"mappings":"YAKA,IAoEQA,EApEFC,EAAO,CACTC,SAAUC,SAASC,cAAc,iBACjCC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,IAAKJ,SAASC,cAAc,cA4BhC,SAASI,EAAwBC,GAC/B,OAAOA,EACJC,KACC,SAAAC,G,IAAGC,EAAGD,EAAHC,IAAKC,EAAMF,EAANE,O,MAAa,oBACGC,OAAbF,EAAI,WACOE,OADED,EAAO,GAAGE,KAAK,oDAEVD,OADPD,EAAO,GAAGE,KAAK,4CAERD,OADAD,EAAO,GAAGG,YAAY,4CACAF,OAAtBD,EAAO,GAAGI,YAAY,Q,IAEpDC,KAAK,G,EA2BFlB,EAAS,IAAImB,gBAAgB,CACjCC,QAHA,0EAKKC,MAAM,GAAeP,OARX,+BAQQ,KAAeA,OAPvB,SAOoB,KAAUA,OAAPd,IAAUsB,MAAK,SAAAC,GACrD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,qBAElB,OAAOF,EAASG,M,KApENJ,MAAK,SAAAK,GACf,IAAMC,EAA8BD,EAyEnCjB,KACC,SAAAC,G,IAAGkB,EAAElB,EAAFkB,GAAId,EAAIJ,EAAJI,K,MAAW,yBACKD,OAAPe,EAAG,MAASf,OAALC,EAAK,Y,IAE7BG,KAAK,IA5ENjB,EAAKC,SAAS4B,UAAYF,C,IAGxBG,OAAM,SAAAzB,G,OAAS0B,QAAQC,IAAI3B,E,IAIjCL,EAAKC,SAASgC,iBAAiB,UAE/B,SAAuBC,IA0BvB,SAAyBN,GACrB,IAAMO,EAAW,+BACXC,EAAW,gBAGXrC,EAAS,IAAImB,gBAAgB,CAC/BC,QAHY,wEAIZkB,UAAWT,IAGf,OAAOR,MAAM,GAAeP,OAAZsB,EAAS,KAAetB,OAAZuB,EAAS,KAAUvB,OAAPd,IAAUsB,MAAK,SAACC,GACnD,IAAKA,EAASC,GACX,MAAM,IAAIC,MAAM,qBAEpB,OAAOF,EAASG,M,KAtCpBa,CADWJ,EAAMK,OAAOC,OAEnBnB,MAAK,SAAAK,GACF1B,EAAKM,IAAIuB,UAAYtB,EAAwBmB,GAC7CK,QAAQC,IAAIzB,EAAwBmB,G,IAEzCI,OAAM,SAAAW,G,OAAOV,QAAQC,IAAIS,E","sources":["src/cat-api.js"],"sourcesContent":["// import axios from 'axios';\n\n// axios.defaults.headers.common['x-api-key'] =\n//     'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n  \nconst refs = {\n    selector: document.querySelector('.breed-select'),\n    loader: document.querySelector('.loader'), \n    error: document.querySelector('.error'),\n    div: document.querySelector('.cat-info')\n}\n\nfetchBreeds().then(data => {\n    const markup = createSelectorMarkup(data);\n    refs.selector.innerHTML = markup;\n    // console.log(markup)\n}\n    ).catch(error => console.log(error))\n\n\n\nrefs.selector.addEventListener('change', onBreedSelect);\n\nfunction onBreedSelect(event) {\n    const id = event.target.value;\n    fetchCatByBreed(id)\n        .then(data => {\n            refs.div.innerHTML = createDescriptionMarkup(data);\n            console.log(createDescriptionMarkup(data))\n        })\n      .catch(err => console.log(err));\n    \n    \n\n}\n\n\nfunction createDescriptionMarkup(arr) {\n  return arr\n    .map(\n      ({ url, breeds }) => `\n     <img src=\"${url}\" alt=\"${breeds[0].name}\" class=\"cat-image\">\n     <h1 class=\"cat-name\">${breeds[0].name}</h1>\n     <h2 class=\"cat-temperament\">${breeds[0].temperament}</h2>\n     <h3 class=\"cat-description\">${breeds[0].description}</h3>`\n    )\n    .join('');\n}\n\nfunction fetchCatByBreed(id) {\n    const BASE_URL = 'https://api.thecatapi.com/v1';\n    const ENDPOINT = 'images/search';\n    const API_KEY = 'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n     \n    const params = new URLSearchParams({\n        api_key: API_KEY,\n        breed_ids: id\n    });\n\n    return fetch(`${BASE_URL}/${ENDPOINT}?${params}`).then((response) => {\n         if (!response.ok) {\n            throw new Error(\"Breeds not found!\");\n        }\n        return response.json()\n    });\n}\n\nfunction fetchBreeds() {\n  const BASE_URL = 'https://api.thecatapi.com/v1';\n  const ENDPOINT = 'breeds';\n  const API_KEY =\n    'live_iDoiV0EHJllOQpbTYpgldcvoG2FwbjPi0qHS9L5SZQ11njYtU009ZPQL3TlvYCrZ';\n\n  const params = new URLSearchParams({\n    api_key: API_KEY,\n  });\n  return fetch(`${BASE_URL}/${ENDPOINT}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Breeds not found!');\n    }\n    return response.json();\n  });\n}\n\nfunction createSelectorMarkup(arr) {\n  return arr\n    .map(\n      ({ id, name }) => `\n     <option value=\"${id}\">${name}</option>`\n    )\n    .join('');\n}"],"names":["params","$ae0c329fb0fb36dc$var$refs","selector","document","querySelector","loader","error","div","$ae0c329fb0fb36dc$var$createDescriptionMarkup","arr","map","param","url","breeds","concat","name","temperament","description","join","URLSearchParams","api_key","fetch","then","response","ok","Error","json","data","markup","id","innerHTML","catch","console","log","addEventListener","event","BASE_URL","ENDPOINT","breed_ids","$ae0c329fb0fb36dc$var$fetchCatByBreed","target","value","err"],"version":3,"file":"index.9af4f66d.js.map"}